<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
        body, html,#container {width: 100%;height: 100%;overflow: hidden;margin:0;font-family:"微软雅黑";}
    </style>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=kG0l1mn4xUHoTGvG1cxXfm613Cvw0twf"></script>
    <title>设置点的新图标</title>
</head>
<body>
    <div id="container"></div>
</body>
</html>
<script type="text/javascript">
    var map = new BMap.Map("container");
    var point = new BMap.Point(120.382029,30.312903);
    map.centerAndZoom(point,9);
    var marker = new BMap.Marker(point);
    var mapPoints = [
        {x:30.312903,y:120.382029,title:"45",con:"我是A",branch:"45"},
        {x:30.215855,y:120.024568,title:"919",con:"我是B",branch:"919"},
        {x:30.18015,y:120.174968,title:"616",con:"我是C",branch:"616"},
        {x:30.324994,y:120.164399,title:"88",con:"我是D",branch:"88"},
        {x:30.24884,y:120.305074,title:"963",con:"我是E",branch:"963"}
    ];
    var i = 0;
    map.addOverlay(marker);
    map.enableScrollWheelZoom(true);
    // 函数 创建多个标注
    function markerFun (points,label,infoWindows) {
        var markers = new BMap.Marker(points);
        map.addOverlay(markers);
        markers.setLabel(label);
        markers.addEventListener("click",function (event) {
            console.log("0001");
            map.openInfoWindow(infoWindows,points);//参数：窗口、点  根据点击的点出现对应的窗口
        });
    }
    for (;i<mapPoints.length;i++) {
        var points = new BMap.Point(mapPoints[i].y,mapPoints[i].x);//创建坐标点
        var opts = {
            width:250,
            height: 100,
            title:mapPoints[i].title
        };
        var label = new BMap.Label(mapPoints[i].branch,{
            offset:new BMap.Size(25,5)
        });
        var infoWindows = new BMap.InfoWindow(mapPoints[i].con,opts);
        markerFun(points,label,infoWindows);
    }
</script>